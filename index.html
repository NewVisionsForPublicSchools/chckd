<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <link data-require="bootstrap-css@*" data-semver="3.3.1" rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" />
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
  <?!= include('style'); ?>
  <?!= include('navbar'); ?>
</head>

<body>

  <div class="container-fluid">

    <div class="jumbotron col-lg-8 col-lg-offset-2">
      <div class="title">
        <h1 class="text-center" id="jumbotron-title">chckd <small>Check In/Return</small></h1>
      </div> <!-- close title -->
      <div id="scan">
      <div class="col-sm-4 col-sm-offset-4">
        <form class="form-inline" id="myform" method="get" action="" onsubmit="return false">
          
            <div class="form-group">
              <input type="text" class="form-control" name="studentScan" id="studentScan" placeholder="Scan device tag">
            </div> <!-- close form-group -->
            <button type="button" class="btn btn-primary" id="submitBtn"
            onclick="google.script.run.withSuccessHandler(updateResults).processScan(this.parentNode)">Submit</button>
          
        </form> <!-- close form -->
        </div>
      </div> <!-- close scan -->

    </div> <!-- close jumbotron -->

    <div id="results"></div>

  </div> <!-- close container -->

</body>

</html>



<script>
$('#navbar').load('navbar.html')
$(document).ready(setFocus);
    
    

$('#studentScan').on("keyup", function(){
  if(event.keyCode == 13){
    $('#submitBtn').trigger("click");
  }
});



function setFocus() {
  var input = document.getElementById ("studentScan");
  input.focus ();
}



function updateResults(resultHtml){
  document.getElementById("myform").reset();
  setFocus();
  var outputDiv = document.getElementById('results');
  outputDiv.innerHTML = resultHtml;
}



function toggle_visibility(id) {
 var e = document.getElementById(id);
 if(e.style.display == 'block')
    e.style.display = 'none';
 else
    e.style.display = 'block';
}



// Requires jQuery!
jQuery.ajax({
            url: "https://newvisionstech.atlassian.net/s/99f0bc150bececa79c546d639e93a2f9-T/en_US3m6qvk/64014/14/1.4.24/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=e43119db",
        type: "get",
    cache: true,
    dataType: "script"
});
</script>
